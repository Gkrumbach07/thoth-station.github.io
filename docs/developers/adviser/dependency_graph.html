<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Dependency Graph &#8212; Thoth Adviser 0.5.0 documentation</title>
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dependency Monkey Design Document" href="dependency_monkey.html" />
    <link rel="prev" title="Thoth Adviser" href="index.html" />

    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-123174547-2']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="index.html">Thoth Adviser 0.5.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dependency-graph">
<span id="id1"></span><h1>Dependency Graph<a class="headerlink" href="#dependency-graph" title="Permalink to this headline">¶</a></h1>
<p>Adviser’s implementation uses an internal structure called “Dependency Graph” for
generating possible software stacks. This generation is done for:</p>
<ol class="arabic simple">
<li><p>Computing recommendations by scoring computed software stacks - the stack with the highest score is the best possible software stack considered for an application (Thoth’s advises).</p></li>
<li><p>Generating samples of software stacks for <a class="reference internal" href="dependency_monkey.html#dependency-monkey"><span class="std std-ref">Dependency Monkey</span></a> - these stacks are validated and scored (e.g. performance index) on the <a class="reference external" href="https://github.com/thoth-station/amun-api">Amun</a> service.</p></li>
</ol>
<p>The dependency graph is implemented as an N-ary graph. You can imagine the
graph as a generic binary tree, except:</p>
<ol class="arabic simple">
<li><p>Each node is constructed of N packages in some specific versions (not binary nodes, but N-ary nodes).</p></li>
<li><p>There can be cycles (thus graph and not a tree).</p></li>
</ol>
<p>The resolution itself can be done using two sources (see CLI help for configuration info):</p>
<ol class="arabic simple">
<li><p>The graph database used in the Thoth project - this database states relevant packages in the Python ecosystem with relations between them (what dependency in what version is required with previously resolved versions using <a class="reference external" href="https://github.com/thoth-station/solver">solver</a>).</p></li>
<li><p><a class="reference external" href="https://pypi.org">PyPI</a> (or any <a class="reference external" href="https://www.python.org/dev/peps/pep-0503/">PEP-503 compliant</a> instance) - the resolution is done against the “upstream” (ecosystem as a whole) so one can resolve any dependencies in the PyPI ecosystem and compute possible software stacks.</p></li>
</ol>
<p>The advantage of using Thoth’s database is the fact that this database states
observations about packages and software stacks so that the database itself can
help with better resolution mechanism (the latest is not always the best
choice). In this case, the graph database is also helping with offline
resolution (Python is a dynamic programming language, what dependencies will be
installed can be determined during installation - e.g. based on operating
system).</p>
<div class="section" id="development-of-dependency-graph">
<h2>Development of Dependency Graph<a class="headerlink" href="#development-of-dependency-graph" title="Permalink to this headline">¶</a></h2>
<p>If you are a developer and would like to speed up your work, dependency graph
has a capability to be pickled onto disk and loaded back into memory on demand.
To control this behavior you can use <code class="docutils literal notranslate"><span class="pre">THOTH_ADVISER_FILEDUMP</span></code> environment
variable stating file into which the constructed graph should be deserialized
(in case of this file does not exist) or loaded back into memory (if file
exists). Besides that, you can also supply environment variable
<code class="docutils literal notranslate"><span class="pre">THOTH_ADVISER_NO_DIGESTS</span></code> set to <code class="docutils literal notranslate"><span class="pre">1</span></code> if you do not care about package
hashes in resulting <code class="docutils literal notranslate"><span class="pre">Pipfile.lock</span></code> files.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Dependency Graph</a><ul>
<li><a class="reference internal" href="#development-of-dependency-graph">Development of Dependency Graph</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Thoth Adviser</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dependency_monkey.html"
                        title="next chapter">Dependency Monkey Design Document</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/dependency_graph.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dependency_monkey.html" title="Dependency Monkey Design Document"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Thoth Adviser"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>


    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Thoth team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>

  </body>
</html>