<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Thoth’s offline resolver &#8212; Thoth Adviser 0.6.1 documentation</title>
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="thoth.adviser package" href="thoth.adviser.html" />
    <link rel="prev" title="Provenance Checks" href="provenance_checks.html" />

    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-123174547-2']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="index.html">Thoth Adviser 0.6.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="thoth-s-offline-resolver">
<span id="resolver"></span><h1>Thoth’s offline resolver<a class="headerlink" href="#thoth-s-offline-resolver" title="Permalink to this headline">¶</a></h1>
<p>As Python is a dynamic programming language, the actual resolution of Python
software stacks might take a time (you’ve probably <a class="reference external" href="https://github.com/pypa/pipenv/issues/2873">encountered this already</a>). One of the reasons behind it
is the fact that all packages need to be downloaded and installed to verify
version range satisfaction during the installation. This is also one of the
reasons Thoth builds its knowledge base - Thoth pre-computes dependencies
in the Python ecosystem so that resolving can be done offline without
interacting with outside world.</p>
<div class="section" id="a-note-to-thoth-s-python-resolver">
<h2>A note to Thoth’s Python resolver<a class="headerlink" href="#a-note-to-thoth-s-python-resolver" title="Permalink to this headline">¶</a></h2>
<p>Thoth stores pre-computed dependency graph in its knowledge base. Besides
the graph structure kept, it also evaluates
<a class="reference external" href="https://www.python.org/dev/peps/pep-0496/">environment markers</a> in the
solver runs (hence solvers are based on software environments which are used
from configuration entries and can be recommended as well)</p>
<p>Software stacks returned by Thoth are fully compliant with Python’s packaging
resolution algorithm as done by pip or Pipenv except for environment markers.
If software environment in which the application runs is fully specified, Thoth
can use pre-computed results of environment markers and the recommended
software stack does not include sub-graphs which would normally be reported by
pip/Pipenv when done a generic resolution (e.g. <a class="reference external" href="https://pypi.org/project/enum34/">enum34</a> is often included with environment marker
<code class="docutils literal notranslate"><span class="pre">python_version&lt;&quot;3.4&quot;</span></code>. If Thoth is resolving software stacks for Python 3.6,
it already knows enum34 will not be installed so any of its dependencies, if
any, will not be installed as well). This helps to narrow down to software that
is really used in the deployed environment.</p>
<p>Environment markers applied on direct dependencies are not evaluated during
resolution.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Thoth’s offline resolver</a><ul>
<li><a class="reference internal" href="#a-note-to-thoth-s-python-resolver">A note to Thoth’s Python resolver</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="provenance_checks.html"
                        title="previous chapter">Provenance Checks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="thoth.adviser.html"
                        title="next chapter">thoth.adviser package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/resolver.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="thoth.adviser.html" title="thoth.adviser package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="provenance_checks.html" title="Provenance Checks"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>


    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Thoth team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>

  </body>
</html>