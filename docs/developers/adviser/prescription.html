
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Declarative prescriptions for resolver &#8212; Thoth Adviser 0.39.0 documentation</title>
    <link rel="stylesheet" href="/assets/adviser/nameko.css" type="text/css" />
    <link rel="stylesheet" href="/assets/adviser/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="/assets/adviser/documentation_options.js"></script>
    <script type="text/javascript" src="/assets/adviser/jquery.js"></script>
    <script type="text/javascript" src="/assets/adviser/underscore.js"></script>
    <script type="text/javascript" src="/assets/adviser/doctools.js"></script>
    <script type="text/javascript" src="/assets/adviser/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Random state space sampling" href="predictors/sampling.html" />
    <link rel="prev" title="Wrap pipeline unit type" href="wraps.html" />

   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Lora:400' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-123174547-2']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="predictors/sampling.html" title="Random state space sampling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wraps.html" title="Wrap pipeline unit type"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Thoth Adviser 0.39.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="declarative-prescriptions-for-resolver">
<span id="prescription"></span><h1>Declarative prescriptions for resolver<a class="headerlink" href="#declarative-prescriptions-for-resolver" title="Permalink to this headline">¶</a></h1>
<p>The implementation of the recommendation engine allows to declaratively specify
<a class="reference internal" href="unit.html#unit"><span class="std std-ref">pipeline units</span></a> that should be included in the <a class="reference internal" href="pipeline.html#pipeline"><span class="std std-ref">resolver
pipeline</span></a> without actually implementing any code.  The document
below describes core mechanics behind creating such “prescriptions” for the
resolver.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check <a class="reference external" href="https://github.com/thoth-station/prescriptions">thoth-station/prescriptions</a>
repository that provides prescriptions for open-source Python packages.</p>
<p>See also <a class="reference external" href="https://github.com/thoth-station/adviser/pull/1821">this pull request</a> for a reference on how
to implement specific pipeline unit type that extend resolver functionality.
A high level overview can be found in <a class="reference external" href="https://www.youtube.com/watch?v=oK1qYdhmquY">the following YouTube video</a>.</p>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/dg6_WhUK5Ew" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div><p>One can see prescriptions as <a class="reference external" href="https://pip.pypa.io/en/stable/user_guide/#constraints-files">enhanced constraints</a> but on the
server side. This way constraints can be generalized and applied also for
multiple projects for which server-side resolution can provide guidance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The declarative prescription interface allows to quickly provide pipeline units
that assist the resolution process but have limited expressive capabilities.
For more sophisticated pipeline units one can still use the programmable
interface.</p>
</div>
<section id="prescriptions-structure">
<h2>Prescriptions structure<a class="headerlink" href="#prescriptions-structure" title="Permalink to this headline">¶</a></h2>
<p>Prescriptions are written in a form of YAML files that are maintained in a Git
repository. An example of such directory structure can be found at
<a class="reference external" href="https://github.com/thoth-station/prescriptions/">thoth-station/prescriptions</a>.</p>
<p>The repository keeping prescriptions must state a metadata file keeping generic
information for prescriptions. This file is named
<code class="docutils literal notranslate"><span class="pre">_prescription_metadata.yaml</span></code> and metadata stated in this file are inherited
to all units declared in sub-directories living besides the metadata file.</p>
<p>The content of the metadata file is (an <a class="reference external" href="https://github.com/thoth-station/prescriptions/blob/b12d31510134a08b47e621c08d8d69977641b903/prescriptions/_prescription_metadata.yaml">example</a>):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">prescription</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;name&gt;</span>
  <span class="nt">release</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;release&gt;</span>
</pre></div>
</div>
<p>Value stated in <code class="docutils literal notranslate"><span class="pre">prescription.name</span></code> acts as a namespace for prescriptions. If
you use multiple prescriptions, you do not need to worry about any naming
collisions unless you make sure these prescriptions live in a separate
namespace (have different values of <code class="docutils literal notranslate"><span class="pre">prescription.name</span></code>).</p>
<p>The identifier stated in <code class="docutils literal notranslate"><span class="pre">prescription.release</span></code> states release information
about prescriptions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check the resolution log to see what prescriptions in which versions are used
during the resolution process.</p>
</div>
<p>Each sub-directory keeps information about prescriptions. It is a convention to put
package specific prescriptions into sub-directories which match package names.
Any generic or package agnostic prescriptions can be placed into
sub-directories prefixed with and underscore (e.g. <code class="docutils literal notranslate"><span class="pre">_generic</span></code>). Name of the
YAML files are then determined based on the unit semantics written there.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are a package maintainer or you would like to follow updates for a
specific set of prescriptions, you can add yourself to <a class="reference external" href="https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-code-owners">CODEOWNERS</a>
file and follow updates only for a specific sub-directory.</p>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/ocCVghdx7eM" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></section>
<section id="unit-schema">
<h2>Unit schema<a class="headerlink" href="#unit-schema" title="Permalink to this headline">¶</a></h2>
<p>Units are stated in <code class="docutils literal notranslate"><span class="pre">units</span></code> listing in the corresponding YAML file respecting
unit’s base type:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">units</span><span class="p">:</span>
  <span class="nt">boots</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">pseudonyms</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">sieves</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">steps</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">strides</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">wraps</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
</pre></div>
</div>
<p>Each unit, regardless of its type, has the following schema:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;&lt;unit_name&gt;&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;&lt;unit_type&gt;&#39;</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;should_include_section&gt;</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;match_section&gt;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="l l-Scalar l-Scalar-Plain">&lt;run_section&gt;</span>
</pre></div>
</div>
<p>The semantics behind entries:</p>
<section id="name">
<h3><code class="docutils literal notranslate"><span class="pre">name</span></code><a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<p>Name of the unit that uniquely identifies the unit of the specific type.</p>
<p>All the units created based on prescription live in their own namespace that is
specified by the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the prescription. This makes sure unit names do
not clash across multiple prescriptions supplied.</p>
</section>
<section id="type">
<h3><code class="docutils literal notranslate"><span class="pre">type</span></code><a class="headerlink" href="#type" title="Permalink to this headline">¶</a></h3>
<p>Type of the unit, one of <code class="docutils literal notranslate"><span class="pre">boot</span></code>, <code class="docutils literal notranslate"><span class="pre">pseudonym</span></code>, <code class="docutils literal notranslate"><span class="pre">sieve</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code>,
<code class="docutils literal notranslate"><span class="pre">stride</span></code> and <code class="docutils literal notranslate"><span class="pre">wrap</span></code>.</p>
</section>
</section>
<section id="including-a-unit-should-include">
<h2>Including a unit - <code class="docutils literal notranslate"><span class="pre">should_include</span></code><a class="headerlink" href="#including-a-unit-should-include" title="Permalink to this headline">¶</a></h2>
<section id="should-include-times">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.times</span></code><a class="headerlink" href="#should-include-times" title="Permalink to this headline">¶</a></h3>
<p>Number of times the given unit should be included in the resolution process.</p>
<p>Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - the given pipeline unit should be included once in the resolution
process if all the criteria for including it match (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> - the given pipeline unit will not be included in the resolution
process - the given pipeline unit is off even thought it is stated in the
YAML file</p></li>
</ul>
</section>
<section id="should-include-adviser-pipeline">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.adviser_pipeline</span></code><a class="headerlink" href="#should-include-adviser-pipeline" title="Permalink to this headline">¶</a></h3>
<p>Boolean stating whether the given pipeline pipeline unit will be part of
“adviser” pipeline used for computing Thoth’s recommendations.</p>
<p>Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code> - the given pipeline unit will not be part of the resolver pipeline
when computing advises (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> - the given pipeline unit will be part of the resolver pipeline
when computing advises</p></li>
</ul>
</section>
<section id="should-include-recommendation-types">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.recommendation_types</span></code><a class="headerlink" href="#should-include-recommendation-types" title="Permalink to this headline">¶</a></h3>
<p>A list of recommendation types that should be matched if the unit is registered
for the adviser resolution pipeline.</p>
<p>Alternatively, the list can be wrapped to a “not” statement which inverts
the logic.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">adviser_pipeline</span></code> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, this configuration option has no
effect.</p>
<p>See <a class="reference external" href="https://thoth-station.ninja/recommendation-types/">the listing of recommendation types available</a>.</p>
</section>
<section id="should-include-dependency-monkey-pipeline">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependency_monkey_pipeline</span></code><a class="headerlink" href="#should-include-dependency-monkey-pipeline" title="Permalink to this headline">¶</a></h3>
<p>Boolean stating whether the given pipeline pipeline unit will base part of
<a class="reference internal" href="dependency_monkey.html#dependency-monkey"><span class="std std-ref">Dependency Monkey</span></a> pipeline used for <a class="reference external" href="https://github.com/thoth-station/amun-api/">data
acquisition and generation on Amun</a>.</p>
<p>Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code> - the given pipeline unit will not be part of the resolver pipeline
used for Dependency Monkey (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> - the given pipeline unit will be part of the resolver pipeline
when running Dependency Monkey</p></li>
</ul>
</section>
<section id="should-include-decision-types">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.decision_types</span></code><a class="headerlink" href="#should-include-decision-types" title="Permalink to this headline">¶</a></h3>
<p>A list of decision types that should be matched if the unit is registered for
the <a class="reference internal" href="dependency_monkey.html#dependency-monkey"><span class="std std-ref">Dependency Monkey</span></a> resolution pipeline used for
<a class="reference external" href="https://github.com/thoth-station/amun-api/">data acquisition on Amun</a>.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dependency_monkey_pipeline</span></code> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, this configuration
option has no effect.</p>
</section>
</section>
<section id="should-include-library-usage">
<h2><code class="docutils literal notranslate"><span class="pre">should_include.library_usage</span></code><a class="headerlink" href="#should-include-library-usage" title="Permalink to this headline">¶</a></h2>
<p>Library calls that should be present to include the pipeline unit. This
creates an ability to include a pipeline unit only if some parts of a
library are used that affect the application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">library_usage</span><span class="p">:</span>
  <span class="c1"># from flask import Flask</span>
  <span class="nt">flask</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">flask.Flask</span>
  <span class="c1"># Match if anything is imported from tensorflow.keras.</span>
  <span class="nt">tensorflow</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow.keras.*</span>
</pre></div>
</div>
</div>
<p>The use of libraries is statically checked using on client side
<a class="reference external" href="https://github.com/thoth-station/invectio">invectio library</a>.</p>
<section id="should-include-dependencies">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies</span></code><a class="headerlink" href="#should-include-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Dependencies on other pipeline units. All the stated pipeline units have to be
registered (<code class="docutils literal notranslate"><span class="pre">should_include</span></code> has to be evaluated as <code class="docutils literal notranslate"><span class="pre">true</span></code>) as listed
dependencies are pre-requisites to register the stated pipeline unit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">dependencies</span><span class="p">:</span>
    <span class="nt">boots</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">thoth.ExampleBoot</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CoreBoot</span>
</pre></div>
</div>
<p>This part of the <code class="docutils literal notranslate"><span class="pre">should_include</span></code> section is specific to a unit that states
dependencies on two units of type <a class="reference internal" href="boots.html#boots"><span class="std std-ref">boot</span></a>. <code class="docutils literal notranslate"><span class="pre">ExampleBoot</span></code> is a boot
pipeline unit from prescription named <code class="docutils literal notranslate"><span class="pre">thoth</span></code> and <code class="docutils literal notranslate"><span class="pre">CoreBoot</span></code> is a boot
provided by the adviser Python implementation (corresponds to a name of the
Python class).</p>
</div>
<p>Referencing unknown units evaluates always to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p>If no dependencies are stated, the given pipeline unit is not dependent on
any pipeline unit.</p>
</section>
<section id="should-include-dependencies-boots">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.boots</span></code><a class="headerlink" href="#should-include-dependencies-boots" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference internal" href="boots.html#boots"><span class="std std-ref">boot pipeline units</span></a> that need to be present in the
resolution process. Referenced by respective unit name and optional
prescription name for referencing units from prescriptions (see above for more
info).</p>
</section>
<section id="should-include-dependencies-pseudonyms">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.pseudonyms</span></code><a class="headerlink" href="#should-include-dependencies-pseudonyms" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference internal" href="pseudonyms.html#pseudonyms"><span class="std std-ref">pseudonym pipeline units</span></a> that need to be present
in the resolution process.  Referenced by respective unit name and optional
prescription name for referencing units from prescriptions (see above for more
info).</p>
</section>
<section id="should-include-dependencies-sieves">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.sieves</span></code><a class="headerlink" href="#should-include-dependencies-sieves" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference internal" href="sieves.html#sieves"><span class="std std-ref">sieve pipeline units</span></a> that need to be present in the
resolution process.  Referenced by respective unit name and optional
prescription name for referencing units from prescriptions (see above for more
info).</p>
</section>
<section id="should-include-dependencies-steps">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.steps</span></code><a class="headerlink" href="#should-include-dependencies-steps" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference internal" href="steps.html#steps"><span class="std std-ref">step pipeline units</span></a> that need to be present in the
resolution process.  Referenced by respective unit name and optional
prescription name for referencing units from prescriptions (see above for more
info).</p>
</section>
<section id="should-include-dependencies-strides">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.strides</span></code><a class="headerlink" href="#should-include-dependencies-strides" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference internal" href="strides.html#strides"><span class="std std-ref">stride pipeline units</span></a> that need to be present in the
resolution process.  Referenced by respective unit name and optional
prescription name for referencing units from prescriptions (see above for more
info).</p>
</section>
<section id="should-include-dependencies-wraps">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.wraps</span></code><a class="headerlink" href="#should-include-dependencies-wraps" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference internal" href="wraps.html#wraps"><span class="std std-ref">wrap pipeline units</span></a> that need to be present in the
resolution process.  Referenced by respective unit name and optional
prescription name for referencing units from prescriptions (see above for more
info).</p>
</section>
</section>
<section id="labels-should-include-labels">
<h2>Labels - <code class="docutils literal notranslate"><span class="pre">should_include.labels</span></code><a class="headerlink" href="#labels-should-include-labels" title="Permalink to this headline">¶</a></h2>
<p>Labels introduce a mechanism to register pipeline units only for requests that
state the given label. An example can be a CI system that is asking for an
advise and labels the request with <code class="docutils literal notranslate"><span class="pre">requester=ci_foo</span></code>. In such a case, the
resolution engine includes pipeline units that are specific to the CI system
(besides the ones that are added by default or matching other labels stated
in the request).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<p>Register the given pipeline unit if <code class="docutils literal notranslate"><span class="pre">team=thoth</span></code> or <code class="docutils literal notranslate"><span class="pre">requester=ci_foo</span></code>
were provided:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">labels</span><span class="p">:</span>
  <span class="nt">team</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">thoth</span>
  <span class="nt">requester</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ci_foo</span>
</pre></div>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/eoJIfQip_6M" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></section>
<section id="runtime-environments-should-include-runtime-environments">
<h2>Runtime environments - <code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments</span></code><a class="headerlink" href="#runtime-environments-should-include-runtime-environments" title="Permalink to this headline">¶</a></h2>
<p>Matching runtime environment configurations for which pipeline units should be
included in the resolution process. This configuration section is meant for
units that are specific for runtime environments.</p>
<section id="should-include-runtime-environments-operating-systems">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.operating_systems</span></code><a class="headerlink" href="#should-include-runtime-environments-operating-systems" title="Permalink to this headline">¶</a></h3>
<p>A list of operating systems for which the pipeline unit should be included.
Each entry optionally states <code class="docutils literal notranslate"><span class="pre">name</span></code> (operating system name) and <code class="docutils literal notranslate"><span class="pre">version</span></code>
(operating system version). Not providing any of the two means matching <em>any</em>
value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">operating_systems</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rhel</span>     <span class="c1"># matches Red Hat Enterprise Linux in any version</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fedora</span>   <span class="c1"># matches Fedora in version 33</span>
    <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">33</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-hardware">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.hardware</span></code><a class="headerlink" href="#should-include-runtime-environments-hardware" title="Permalink to this headline">¶</a></h3>
<p>Matching hardware available when running the application. This
configuration basically creates a matrix of hardware that should be
available on user’s side to register the given pipeline unit in the
resolution process.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hardware</span><span class="p">:</span>
  <span class="c1"># Matches any GPU or no GPU available and</span>
  <span class="c1"># CPU family 1 CPU model 9 or CPU family 2 and CPU model 8.</span>
  <span class="p p-Indicator">-</span> <span class="nt">cpu_families</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">]</span>
    <span class="nt">cpu_models</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">9</span><span class="p p-Indicator">,</span> <span class="nv">8</span><span class="p p-Indicator">]</span>

  <span class="c1"># Matches CPU family 1, CPU model 9 running on GPU &quot;Foo&quot; or GPU &quot;Bar&quot;,</span>
  <span class="p p-Indicator">-</span> <span class="nt">cpu_families</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">]</span>
    <span class="nt">cpu_models</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">9</span><span class="p p-Indicator">]</span>
    <span class="nt">gpu_models</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Foo</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Bar</span>

  <span class="c1"># Matching any CPU family except for 1.</span>
  <span class="p p-Indicator">-</span> <span class="nt">cpu_families</span><span class="p">:</span>
      <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-python-versions">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.python_versions</span></code><a class="headerlink" href="#should-include-runtime-environments-python-versions" title="Permalink to this headline">¶</a></h3>
<p>A list of Python versions that need to be matched for including the
given pipeline unit.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">python_versions</span><span class="p">:</span>
  <span class="c1"># Match when running 3.8 or 3.9:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;3.8&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;3.9&#39;</span>

<span class="nt">python_versions</span><span class="p">:</span>
  <span class="c1"># Match all except for 3.8</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;3.8&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<p>If this configuration option is not provided, it defaults to any
Python version.</p>
<p>Python version is always in form of <code class="docutils literal notranslate"><span class="pre">&lt;major&gt;.&lt;minor&gt;</span></code>. Patch versions
are not considered.</p>
</section>
<section id="should-include-runtime-environments-cuda-versions">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.cuda_versions</span></code><a class="headerlink" href="#should-include-runtime-environments-cuda-versions" title="Permalink to this headline">¶</a></h3>
<p>A list of Nvidia CUDA versions that need to be matched for including the given
pipeline unit.</p>
<p>Alternatively the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cuda_versions</span><span class="p">:</span>
  <span class="c1"># Match when running CUDA 9.0 or 9.2.</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;9.0&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;9.2&#39;</span>

<span class="nt">cuda_versions</span><span class="p">:</span>
  <span class="c1"># Match all except for 9.0 and 9.2.</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;9.0&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;9.2]</span>
</pre></div>
</div>
<p>If this configuration option is not provided, it defaults to any
CUDA version - even if none available.</p>
</div>
<p>A special value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means no CUDA version available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cuda_versions</span><span class="p">:</span>
  <span class="c1"># Match when running CUDA 9.1 or no CUDA available.</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;9.1&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">null</span>

<span class="nt">cuda_versions</span><span class="p">:</span>
  <span class="c1"># Match if any CUDA is available.</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">null</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-platforms">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.platforms</span></code><a class="headerlink" href="#should-include-runtime-environments-platforms" title="Permalink to this headline">¶</a></h3>
<p>A list of platforms for which the given pipeline unit should be registered.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">platforms</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">linux-x86_64</span>

<span class="nt">platforms</span><span class="p">:</span>
  <span class="c1"># Any except for linux-x86_64</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">linux-x86_64</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<p>If this configuration option is not supplied, it defaults to <em>any</em> platform.</p>
</section>
<section id="should-include-runtime-environments-openblas-versions">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.openblas_versions</span></code><a class="headerlink" href="#should-include-runtime-environments-openblas-versions" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference external" href="https://www.openblas.net/">OpenBLAS</a> versions that need to be
matched for including the given pipeline unit.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">openblas_versions</span><span class="p">:</span>
  <span class="c1"># Match when running OpenBLAS 0.3.13, 0.3.0.</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;0.3.13&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;0.3.0&#39;</span>
</pre></div>
</div>
<p>If this configuration option is not provided, it defaults to any OpenBLAS
version - even none available.</p>
</div>
<p>A special value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means no OpenBLAS version available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">openblas_versions</span><span class="p">:</span>
  <span class="c1"># Match when running OpenBLAS 0.3.13 or no OpenBLAS is available.</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;0.3.13&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">null</span>

<span class="nt">openblas_versions</span><span class="p">:</span>
  <span class="c1"># Match when any version of OpenBLAS is available.</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">null</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-openmpi-versions">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.openmpi_versions</span></code><a class="headerlink" href="#should-include-runtime-environments-openmpi-versions" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference external" href="https://www.open-mpi.org/">OpenMPI</a> versions that need to be
matched for including the given pipeline unit.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">openmpi_versions</span><span class="p">:</span>
  <span class="c1"># Match when running OpenMPI 4.1.0 or 4.0.5</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;4.1.0&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;4.0.5&#39;</span>
</pre></div>
</div>
<p>If this configuration option is not provided, it defaults to any OpenMPI
version - even none available.</p>
</div>
<p>A special value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means no OpenMPI version available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">openblas_versions</span><span class="p">:</span>
  <span class="c1"># Match when no OpenMPI is available.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">null</span>

<span class="nt">openblas_versions</span><span class="p">:</span>
  <span class="c1"># Match when any version of OpenMPI is available.</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">null</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-cudnn-versions">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.cudnn_versions</span></code><a class="headerlink" href="#should-include-runtime-environments-cudnn-versions" title="Permalink to this headline">¶</a></h3>
<p>A list of Nvidia cuDNN versions that need to be matched for including the given
pipeline unit.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cudnn_versions</span><span class="p">:</span>
  <span class="c1"># Match when running cuDNN 8.0.5 or 7.6.5</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;8.0.5&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;7.6.5&#39;</span>
</pre></div>
</div>
<p>If this configuration option is not provided, it defaults to any cuDNN version
- even none available.</p>
</div>
<p>A special value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means no cuDNN version available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cudnn_versions</span><span class="p">:</span>
  <span class="c1"># Match when no cuDNN is available.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">null</span>

<span class="nt">cudnn_versions</span><span class="p">:</span>
  <span class="c1"># Match when cuDNN is available.</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">null</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-mkl-versions">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.mkl_versions</span></code><a class="headerlink" href="#should-include-runtime-environments-mkl-versions" title="Permalink to this headline">¶</a></h3>
<p>A list of <a class="reference external" href="https://software.intel.com/content/www/us/en/develop/articles/oneapi-math-kernel-library-release-notes.html">Intel MKL</a>
versions that need to be matched for including the given pipeline unit.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">mkl_versions</span><span class="p">:</span>
  <span class="c1"># Match when running MKL 2021.1</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;2021.1&#39;</span>
</pre></div>
</div>
<p>If this configuration option is not provided, it defaults to any MKL
version - even none available.</p>
</div>
<p>A special value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means no MKL version available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">mkl_versions</span><span class="p">:</span>
  <span class="c1"># Match when no Intel MKL is available.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">null</span>

<span class="nt">mkl_versions</span><span class="p">:</span>
  <span class="c1"># Match when any Intel MKL is available.</span>
  <span class="nt">not</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">null</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-base-images">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.base_images</span></code><a class="headerlink" href="#should-include-runtime-environments-base-images" title="Permalink to this headline">¶</a></h3>
<p>A list of base images that are used as a runtime environment when running the
application. These base images map to <a class="reference external" href="https://github.com/thoth-station/s2i-thoth">Thoth’s S2I container images</a> or container images produced by
the <a class="reference external" href="https://github.com/AICoE/aicoe-ci">AICoE-CI pipeline</a>.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">base_images</span><span class="p">:</span>
  <span class="c1"># Match UBI8 Python 3.8 container environment or UBI8 Python 3.6 container</span>
  <span class="c1"># environment in specific versions.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">quay.io/thoth-station/s2i-thoth-ubi8-py38:v1.0.0</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">quay.io/thoth-station/s2i-thoth-ubi8-py36:v0.8.1</span>

<span class="nt">base_images</span><span class="p">:</span>
  <span class="c1"># Do not match UBI8 Python 3.8 container environment and UBI8 Python 3.6</span>
  <span class="c1"># container environment in specific versions.</span>
  <span class="nt">not</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">quay.io/thoth-station/s2i-thoth-ubi8-py38:v1.0.0</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">quay.io/thoth-station/s2i-thoth-ubi8-py36:v0.8.1</span>
</pre></div>
</div>
</div>
</section>
<section id="should-include-runtime-environments-abi">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.abi</span></code><a class="headerlink" href="#should-include-runtime-environments-abi" title="Permalink to this headline">¶</a></h3>
<p>A list of ABI that have to be present in the runtime environment.</p>
<p>Alternatively, the list can be wrapped with a “not” statement which inverts
the logic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">abi</span><span class="p">:</span>
  <span class="c1"># Include the given pipeline unit if the following two image symbols are</span>
  <span class="c1"># present in the environment.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">GLIBC_2.4</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">GNUTLS_3_6_6</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">abi</span><span class="p">:</span>
  <span class="c1"># Include the given pipeline unit if the following image symbol</span>
  <span class="c1"># is **not** present in the environment.</span>
  <span class="nt">not</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">GLIBC_2.4</span>
</pre></div>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/L_-ulzMSf1o" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></section>
<section id="should-include-runtime-environments-rpm-packages">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.rpm_packages</span></code><a class="headerlink" href="#should-include-runtime-environments-rpm-packages" title="Permalink to this headline">¶</a></h3>
<p>A list of RPM packages that should or should <em>not</em> be present
in the runtime environment in order to register the given pipeline unit.</p>
<p>An RPM package can be specified using the following fields.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package_identifier</span></code> - fully qualified package
identifier (e.g. <code class="docutils literal notranslate"><span class="pre">gcc-c++-8.3.1-5.1.el8.x86_64</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_name</span></code> - name of the package <code class="docutils literal notranslate"><span class="pre">gcc-c++</span></code> (mandatory)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">epoch</span></code> - used for clarifying version history</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_version</span></code> - package version identifier (e.g. <code class="docutils literal notranslate"><span class="pre">8.3.1</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">release</span></code> - RPM package release (e.g. <code class="docutils literal notranslate"><span class="pre">5.1.el8</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arch</span></code> - architecture (e.g. <code class="docutils literal notranslate"><span class="pre">x86_64</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code> - boolean describing whether the given package is a source
distribution (e.g. <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></li>
</ul>
<p>See <a class="reference external" href="https://rpm-packaging-guide.github.io/">RPM packaging guide</a> for more
information on <em>NEVRA</em> (Name-Epoch-Version-Release-Architecture).</p>
<p>If any field is not provided (except for <code class="docutils literal notranslate"><span class="pre">package_name</span></code> which is mandatory)
any value on the runtime environment side is evaluated as matching.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">rpm_packages</span><span class="p">:</span>
  <span class="c1"># Include the given pipeline unit if git is present (any version)</span>
  <span class="c1"># and gcc+c++ based on package specification supplied.</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
  <span class="p p-Indicator">-</span> <span class="nt">arch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">x86_64</span>
    <span class="nt">epoch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
    <span class="nt">package_identifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gcc-c++-8.3.1-5.1.el8.x86_64</span>
    <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gcc-c++</span>
    <span class="nt">package_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8.3.1</span>
    <span class="nt">release</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5.1.el8</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">rpm_packages</span><span class="p">:</span>
  <span class="c1"># Include the given pipeline unit if git is **not** present in the</span>
  <span class="c1"># runtime environment.</span>
  <span class="nt">not</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">git</span>
</pre></div>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/7Xo4eQ8TNSM" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></section>
<section id="should-include-runtime-environments-python-packages">
<h3><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.python_packages</span></code><a class="headerlink" href="#should-include-runtime-environments-python-packages" title="Permalink to this headline">¶</a></h3>
<p>A list of Python packages that should or should <em>not</em> be present
in the runtime environment in order to register the given pipeline unit.</p>
<p>Information about Python package can be specified using the following fields.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - mandatory, name of the package (e.g. <code class="docutils literal notranslate"><span class="pre">jupyterhub</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - package version specifier (e.g. <code class="docutils literal notranslate"><span class="pre">~=1.4.1</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">location</span></code> - a regular expression describing where the given package should
be installed. An example use of this option is detecting Python packages
that are installed inside Python s2i environment. The regular expression is
matched using
<a class="reference external" href="https://docs.python.org/3/library/re.html#re.fullmatch">re.fullmatch</a>.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">version</span></code> is not provided, any version present registers
the given pipeline unit.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">location</span></code> is not provided, any location is considered. Note that the detection
of Python packages does not enforce their availability on <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">python_packages</span><span class="p">:</span>
  <span class="c1"># Register if jupyterhub~=1.4.1 is present in s2i virtualenv</span>
  <span class="c1"># and micropipenv&lt;=1.1.0 is installed regardless of its location.</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jupyterhub</span>
    <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;~=1.4.1&quot;</span>
    <span class="nt">location</span><span class="p">:</span> <span class="s">&quot;^/opt/app-root/.*&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">micropipenv</span>
    <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;=1.1.0</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">python_packages</span><span class="p">:</span>
  <span class="c1"># Include the given pipeline unit if jupyterhub is **not** present in the</span>
  <span class="c1"># runtime environment.</span>
  <span class="nt">not</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jupyterhub</span>
</pre></div>
</div>
</div>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/y02mxZxm-5U" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div></section>
</section>
<section id="boots">
<h2>Boots<a class="headerlink" href="#boots" title="Permalink to this headline">¶</a></h2>
<p>Declaring <a class="reference internal" href="boots.html#boots"><span class="std std-ref">pipeline units of type boot</span></a>.</p>
<p>The following example shows all the configuration options that can be applied
for a boot pipeline unit type. See respective sections described below for more
info. Also note, the example shows all the options that can be supplied and is
not semantically valid (not all options can be supplied at the same time
semantically):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BootUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="c1"># See should_include section for more info.</span>
<span class="nt">match</span><span class="p">:</span>                                            <span class="c1"># Criteria to trigger run of this pipeline unit. Defaults to always running the boot pipeline unit if no package_name is provided.</span>
  <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>                             <span class="c1"># Name of the package that needs to be present in the direct dependency listing to run this unit.</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>                                     <span class="c1"># Information printed to the recommended stack report.</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ERROR</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Unable</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">perform</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">operation&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>           <span class="c1"># A link to stack info or a link to a web page.</span>

  <span class="c1"># Configuration of prematurely terminating the resolution process - the</span>
  <span class="c1"># message will be reported to the user. If this configuration option is not</span>
  <span class="c1"># set, the resolver will not terminate when running this unit.</span>
  <span class="nt">eager_stop_pipeline</span><span class="p">:</span> <span class="s">&quot;Terminating</span><span class="nv"> </span><span class="s">resolution</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">&#39;flask&#39;</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">direct</span><span class="nv"> </span><span class="s">dependencies.&quot;</span>

   <span class="c1"># Configuration of prematurely terminating the resolution process.</span>
  <span class="nt">not_acceptable</span><span class="p">:</span> <span class="s">&quot;Cannot</span><span class="nv"> </span><span class="s">include</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">package&quot;</span>

  <span class="nt">log</span><span class="p">:</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>
</pre></div>
</div>
<section id="boot-match">
<h3>Boot <code class="docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#boot-match" title="Permalink to this headline">¶</a></h3>
<p>The match section allows to define optional name of the package that should
be present in direct dependencies to trigger run of the pipeline unit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BootUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
    <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Found package &#39;flask&#39; in the direct dependency listing</span>
</pre></div>
</div>
</div>
<p>It is also possibly to match the given pipeline unit for multiple package
names by providing a match listing:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BootUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
    <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Found package &#39;flask&#39; or &#39;numpy&#39; in the direct dependency listing</span>
</pre></div>
</div>
</div>
</section>
<section id="boot-run-stack-info">
<span id="boot-stack-info"></span><h3>Boot <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code><a class="headerlink" href="#boot-run-stack-info" title="Permalink to this headline">¶</a></h3>
<p>Optional a list of information added to the “stack info” field that is
<a class="reference internal" href="justifications.html#stack-info"><span class="std std-ref">specific for the application stack</span></a>.</p>
<p>Each entry in the list is specified by three attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> - any of <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> specifying severity of the produced info</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code> - a message in free text form printed to users</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link</span></code> - a link to a document describing more information in detail</p></li>
</ul>
<p>The link can be in a form of a valid HTTP or HTTPS URL or a string which
<a class="reference internal" href="justifications.html#jl"><span class="std std-ref">references justifications</span></a> available at
<a class="reference external" href="https://thoth-station.ninja/justifications">thoth-station.ninja/justifications</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BootUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">recommendation_types</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">performance</span>
  <span class="nt">runtime_environments</span><span class="p">:</span>
    <span class="nt">operating_systems</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rhel</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;8&#39;</span>
    <span class="nt">python_versions</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;3.6&#39;</span><span class="p p-Indicator">]</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">It is recommended to switch to Python 3.8 to improve performance</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&#39;https://developers.redhat.com/blog/2020/06/25/red-hat-enterprise-linux-8-2-brings-faster-python-3-8-run-speeds/&#39;</span>
</pre></div>
</div>
</div>
</section>
<section id="boot-run-eager-stop-pipeline">
<h3>Boot <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code><a class="headerlink" href="#boot-run-eager-stop-pipeline" title="Permalink to this headline">¶</a></h3>
<p>An optional string describing exception that should be raised during resolver
boot causing the resolution process to halt.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BootUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">recommendation_types</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">security</span>
  <span class="nt">runtime_environments</span><span class="p">:</span>
    <span class="nt">operating_systems</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fedora</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">eager_stop_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Security recommendation types are disabled for Fedora, use RHEL instead</span>
</pre></div>
</div>
</div>
</section>
<section id="boot-run-log">
<span id="id1"></span><h3>Boot <code class="docutils literal notranslate"><span class="pre">run.log</span></code><a class="headerlink" href="#boot-run-log" title="Permalink to this headline">¶</a></h3>
<p>Print the given message to logs if the pipeline unit is included and run.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BootUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">boot</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">dependency_monkey_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>
    <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Using prescriptions in the resolution process</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="pseudonyms">
<h2>Pseudonyms<a class="headerlink" href="#pseudonyms" title="Permalink to this headline">¶</a></h2>
<p>Declaring <a class="reference internal" href="pseudonyms.html#pseudonyms"><span class="std std-ref">pipeline units of type pseudonym</span></a>.</p>
<p>The following example shows all the configuration options that can be applied
for a pseudonym pipeline unit type. See respective sections described below for more
info. Also note, the example shows all the options that can be supplied and is
not semantically valid (not all options can be supplied at the same time
semantically):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PseudonymUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pseudonym</span>
<span class="nt">should_include</span><span class="p">:</span>                                   <span class="c1"># See should_include section.</span>
<span class="nt">match</span><span class="p">:</span>                                            <span class="c1"># Criteria to trigger run of this pipeline unit. Defaults to always running the pseudonym pipeline unit if no package_version is provided.</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>                                   <span class="c1"># Mandatory, name of the package for which pseudonym should be registered.</span>
    <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;&gt;1.0,&lt;=1.1.0&#39;</span>                       <span class="c1"># Version specifier for which the pseudonym should be run. If not provided, defaults to any version.</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>          <span class="c1"># Package source index for which the pseudonym should be run. If not provided, defaults to any index. Can be negated using &quot;not&quot;.</span>
    <span class="nt">develop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>                                <span class="c1"># If specified, match development or not development dependencies.</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>                                            <span class="c1"># Optional text printed to logs when the unit gets called.</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>                                     <span class="c1"># Information printed to the recommended stack report.</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">world&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>           <span class="c1"># A link to justifications or a link to a web page.</span>

  <span class="nt">yield</span><span class="p">:</span>
    <span class="c1"># Pseudonym that should be registered.</span>
    <span class="nt">yield_matched_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>                   <span class="c1"># If set to true, use version that was matched instead of the one provided in the locked_version part.</span>
    <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>                                 <span class="c1"># Mandatory, name of the pseudonym package.</span>
      <span class="nt">locked_version</span><span class="p">:</span> <span class="s">&#39;==1.2.0&#39;</span>                          <span class="c1"># Version of the pseudonym in a locked form.</span>
      <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>        <span class="c1"># Package source index where the pseudonym is hosted.</span>
</pre></div>
</div>
<p>The pseudonym is registered for the specified criteria. The unit derived out of
this declarative prescription will make sure the package yielded is known to
the resolver.</p>
<section id="pseudonym-run-log">
<h3>Pseudonym <code class="docutils literal notranslate"><span class="pre">run.log</span></code><a class="headerlink" href="#pseudonym-run-log" title="Permalink to this headline">¶</a></h3>
<p>Print the given message to logs if the pipeline unit is included and run.</p>
<p>See <a class="reference internal" href="#boot-run-log"><span class="std std-ref">boot’s log</span></a> that has shared semantics.</p>
</section>
<section id="pseudonym-run-stack-info">
<h3>Pseudonym <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code><a class="headerlink" href="#pseudonym-run-stack-info" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#boot-stack-info"><span class="std std-ref">stack info</span></a> which semantics is shared with this unit.</p>
<p>Note stack info is added only once even if the pipeline unit is
run multiple times during the resolution process.</p>
</section>
<section id="pseudonym-match">
<h3>Pseudonym <code class="docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#pseudonym-match" title="Permalink to this headline">¶</a></h3>
<p>Package described in <code class="docutils literal notranslate"><span class="pre">package_version</span></code> field that should be matched by three
entries:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - mandatory, name of the package for which the pseudonym should be
provided</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - optional, version in a form of version specifier for which the
pseudonym should be provided</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - optional, Python package index URL for which the pseudonym
should be provided. Can be negated using “not”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">develop</span></code> - optional, if provided it additionally specifies if the dependency
should or should not be a development dependency</p></li>
</ul>
<p>See examples below for more info.</p>
<p>It is also possibly to match the given pseudonym pipeline unit for multiple packages
by providing a match listing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PseudonymUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pseudonym</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">times</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
      <span class="nt">index_url</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow-gpu</span>
      <span class="nt">index_url</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
      <span class="nt">develop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Considering</span><span class="nv"> </span><span class="s">also</span><span class="nv"> </span><span class="s">intel-tensorflow</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">tensorflow-gpu</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">an</span><span class="nv"> </span><span class="s">alternative</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">tensorflow&quot;</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;INFO&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/project/intel-tensorflow&quot;</span>

  <span class="nt">yield</span><span class="p">:</span>
    <span class="nt">yield_matched_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">intel-tensorflow</span>
      <span class="nt">index_url</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div>
</section>
<section id="pseudonym-run-yield">
<h3>Pseudonym <code class="docutils literal notranslate"><span class="pre">run.yield</span></code><a class="headerlink" href="#pseudonym-run-yield" title="Permalink to this headline">¶</a></h3>
<p>Description of a package that should be yielded. Made out of two entries:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yield_matched_version</span></code> - yields version that was matched based on version
specifier in the <code class="docutils literal notranslate"><span class="pre">match</span></code> section, defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_version</span></code> - description of a package that should be yielded</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - mandatory, name of the package that should be yielded</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">locked_version</span></code> - optional, disjoint with <code class="docutils literal notranslate"><span class="pre">yield_matched_version</span></code>;
describes locked version of the package that should be yielded</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - optional, Python package index to be used to provide
pseudonyms</p></li>
</ul>
</li>
</ul>
<p>If no version provided or no index explicitly set, all found in the database
(analyzed by Thoth) are yielded.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An example pipeline unit that suggests <code class="docutils literal notranslate"><span class="pre">intel-tensorflow</span></code> coming from PyPI
as an alternative to <code class="docutils literal notranslate"><span class="pre">tensorflow</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PseudonymUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pseudonym</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">times</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Considering</span><span class="nv"> </span><span class="s">also</span><span class="nv"> </span><span class="s">intel-tensorflow</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">an</span><span class="nv"> </span><span class="s">alternative</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">tensorflow&quot;</span>
      <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;INFO&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/project/intel-tensorflow&quot;</span>

  <span class="nt">yield</span><span class="p">:</span>
    <span class="nt">yield_matched_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">intel-tensorflow</span>
      <span class="nt">index_url</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="sieves">
<h2>Sieves<a class="headerlink" href="#sieves" title="Permalink to this headline">¶</a></h2>
<p>Declaring <a class="reference internal" href="sieves.html#sieves"><span class="std std-ref">pipeline units of type sieve</span></a>.</p>
<p>The following example shows all the configuration options that can be applied
for a sieve pipeline unit type. See respective sections described below for more
info. Also note, the example shows all the options that can be supplied and is
not semantically valid (not all options can be supplied at the same time
semantically):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SieveUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sieve</span>
<span class="nt">should_include</span><span class="p">:</span>                                   <span class="c1"># See should_include section.</span>
<span class="nt">match</span><span class="p">:</span>                                            <span class="c1"># Criteria to trigger run of this pipeline unit. Defaults to always running the sieve pipeline unit if no package_version is provided.</span>
  <span class="nt">package_version</span><span class="p">:</span>                                <span class="c1"># Any package matching this criteria will be filtered out from the resolution.</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>                                   <span class="c1"># Name of the package for which the unit should be registered.</span>
    <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;&gt;1.0,&lt;=1.1.0&#39;</span>                       <span class="c1"># Version specifier for which the sieve should be run. If not provided, defauts to any version.</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>          <span class="c1"># Package source index for which the sieve should be run. If not provided, defaults to any index. Can be negated using &quot;not&quot;.</span>
    <span class="nt">develop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>                                <span class="c1">#</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>                                            <span class="c1"># Optional text printed to logs when the unit gets called.</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>                                     <span class="c1"># Information printed to the recommended stack report.</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">world&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>           <span class="c1"># A link to justifications or a link to a web page.</span>
</pre></div>
</div>
<section id="sieve-match">
<h3>Sieve <code class="docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#sieve-match" title="Permalink to this headline">¶</a></h3>
<p>Specifies a package version that should be matched to execute the given unit during
in the resolution pipeline.</p>
<p>The package is described by:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - name of the Python package that should be matched, any package
name matched if not provided</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - version in a form of version specification to be matched, any
version matched if not provided</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - URL of the Python package index from where the given package
is consumed, matches any index if not provided. Can be negated using “not”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">develop</span></code> - optional, if provided it additionally specifies if the dependency
should or should not be a development dependency</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SieveUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sieve</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">recommendation_types</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">security</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Filtering</span><span class="nv"> </span><span class="s">out</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">packages</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">PyPI</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">security</span><span class="nv"> </span><span class="s">reasons&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
</pre></div>
</div>
</div>
<p>It is also possible to match the same pipeline unit for multiple match criteria
provided by providing match listing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SieveUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sieve</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gnumpy</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dumpy</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bumpy</span>
  <span class="p p-Indicator">-</span> <span class="nt">package_version</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pansas</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Filtering</span><span class="nv"> </span><span class="s">out</span><span class="nv"> </span><span class="s">known</span><span class="nv"> </span><span class="s">typo-squatted</span><span class="nv"> </span><span class="s">packages&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://pypi.org/simple&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="sieve-run-log">
<h3>Sieve <code class="docutils literal notranslate"><span class="pre">run.log</span></code><a class="headerlink" href="#sieve-run-log" title="Permalink to this headline">¶</a></h3>
<p>Print the given message to logs if the pipeline unit is included and run.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SieveUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sieve</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">times</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">runtime_environments</span><span class="p">:</span>
    <span class="nt">python_versions</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;3.5&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;3.6&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;3.7&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;3.8&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;3.9&#39;</span><span class="p p-Indicator">]</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">enum34</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
    <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">All releases of package &#39;enum34&#39; were filtered out</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">All releases of package &#39;enum34&#39; were filtered out</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&#39;http://pypi.org/project/enum34&#39;</span>
</pre></div>
</div>
</div>
<p>See <a class="reference internal" href="#boot-run-log"><span class="std std-ref">boot’s log</span></a> that has shared semantics.</p>
</section>
<section id="sieve-run-stack-info">
<h3>Sieve <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code><a class="headerlink" href="#sieve-run-stack-info" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#boot-stack-info"><span class="std std-ref">stack info</span></a> which semantics is shared with this unit.</p>
<p>Note stack info is added only once even if the pipeline unit is
run multiple times during the resolution process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An example pipeline unit that filters out <code class="docutils literal notranslate"><span class="pre">pysaml2</span></code> with the reported CVE.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SieveUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sieve</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">times</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">recommendation_types</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">security</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">stable</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pysaml2</span>
    <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;&lt;6.5.0&#39;</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Not</span><span class="nv"> </span><span class="s">considering</span><span class="nv"> </span><span class="s">package</span><span class="nv"> </span><span class="s">pysaml2</span><span class="nv"> </span><span class="s">based</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">vulnerability</span><span class="nv"> </span><span class="s">present&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-21238&quot;</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="skippackagesieve">
<h2>SkipPackageSieve<a class="headerlink" href="#skippackagesieve" title="Permalink to this headline">¶</a></h2>
<p>A sieve that removes the given package from the dependency graph. Removing the
given package causes that the whole sub-graph of dependencies introduced by the
given dependency is removed. This unit can be used to remove accidentally added
requirements.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SkipPackageSieve</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sieve.SkipPackage</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
   <span class="nt">package_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">scipy</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Package</span><span class="nv"> </span><span class="s">scipy</span><span class="nv"> </span><span class="s">was</span><span class="nv"> </span><span class="s">removed&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/tensorflow/tensorflow/issues/35709</span>
</pre></div>
</div>
</div>
</section>
<section id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<p>Declaring <a class="reference internal" href="steps.html#steps"><span class="std std-ref">pipeline units of type step</span></a>.</p>
<p>The following example shows all the configuration options that can be applied
for a step pipeline unit type. See respective sections described below for more
info. Also note, the example shows all the options that can be supplied and is
not semantically valid (not all options can be supplied at the same time
semantically):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">StepUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">step</span>
<span class="nt">should_include</span><span class="p">:</span>                                   <span class="c1"># See should_include section.</span>
<span class="nt">match</span><span class="p">:</span>                                            <span class="c1"># Criteria to trigger run of this pipeline unit. Defaults to always running the boot pipeline unit if no package_version is provided.</span>
  <span class="nt">package_version</span><span class="p">:</span>                                <span class="c1"># Any package matching this criteria will be filtered out from the resolution.</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>                                   <span class="c1"># Name of the package for which the unit should be registered.</span>
    <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;&gt;1.0,&lt;=1.1.0&#39;</span>                       <span class="c1"># Version specifier for which the sieve should be run. If not provided, defaults to any version.</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>          <span class="c1"># Package source index for which the sieve should be run. If not provided, defaults to any index. Can be negated using &quot;not&quot;.</span>
    <span class="nt">develop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>                                 <span class="c1">#</span>
  <span class="nt">state</span><span class="p">:</span>                                          <span class="c1"># Optional, resolver internal state to match for the given resolution step.</span>
    <span class="nt">resolved_dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">werkzeug</span>                            <span class="c1"># Dependencies that have to be present in the resolved state.</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;==1.0.0&quot;</span>
        <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">score</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.42</span>                                     <span class="c1"># Score assigned to the step performed in the resolution.</span>
  <span class="nt">justification</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">Thoth!&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>

  <span class="nt">not_acceptable</span><span class="p">:</span> <span class="s">&quot;Bad</span><span class="nv"> </span><span class="s">package</span><span class="nv"> </span><span class="s">inclusion&quot;</span>         <span class="c1"># Block including certain package during the resolution.</span>

  <span class="c1"># Configuration of prematurely terminating the resolution process.</span>
  <span class="nt">eager_stop_pipeline</span><span class="p">:</span> <span class="s">&quot;Stop</span><span class="nv"> </span><span class="s">pipeline&quot;</span>

  <span class="nt">multi_package_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>                 <span class="c1"># Run this pipeline multiple times when matched mutliple times. Defaults to false if not provided.</span>

  <span class="nt">log</span><span class="p">:</span>                                            <span class="c1"># Optional text printed to logs when the unit gets called.</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>                                     <span class="c1"># Information printed to the recommended stack report.</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">world&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>           <span class="c1"># A link to justifications or a link to a web page.</span>
</pre></div>
</div>
<section id="step-match">
<h3>Step <code class="docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#step-match" title="Permalink to this headline">¶</a></h3>
<p>Match the given step performed in the resolution process. A step is described
by state stating all the resolved dependencies so far and package that is
about to be resolved:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package_version</span></code> - package that is about to be resolved by adding it to
the resolver’s state</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - optional, name of the package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - optional, version in a form of version specifier</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - optional, Python package index URL, can be negated using <code class="docutils literal notranslate"><span class="pre">not</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">develop</span></code> - optional, if provided it additionally specifies if the dependency
should or should not be a development dependency</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">state</span></code> - internal resolver’s state with resolved dependencies</p></li>
</ul>
<p>A state that needs to be met to trigger the given step pipeline. The state
states resolved dependencies where each entry in the resolved dependency
listing is described as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - optional package name that has to be stated in the resolved
dependency listing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - optional package version in a form of version specifier that
has to be stated in the resolved dependency listing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - optional package index from which the given package is
consumed, can be negated using <code class="docutils literal notranslate"><span class="pre">not</span></code></p></li>
</ul>
<p>To run the given step, all the packages in the resolved dependency listing
need to be present in the resolved software stack. Also both <code class="docutils literal notranslate"><span class="pre">state</span></code> and
<code class="docutils literal notranslate"><span class="pre">package_version</span></code> need to be matched.</p>
<p>It is possible to provide a listing of matching criteria to run the given
pipeline unit multiple times.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p># Match when torch (not dev) in a 1.9.0 compatible release from PyPI is
# about to be included into resolver’s state with torchvision==0.9.0 from PyPI.
match:</p>
<blockquote>
<div><dl class="simple">
<dt>package_version:</dt><dd><p>name: torch
version: “~=1.9.0”
index_url: “<a class="reference external" href="https://pypi.org/simple">https://pypi.org/simple</a>”
develop: false</p>
</dd>
<dt>state:</dt><dd><dl class="simple">
<dt>resolved_dependencies:</dt><dd><p>name: torchvision
version: “==0.9.0”
index_url: “<a class="reference external" href="https://pypi.org/simple">https://pypi.org/simple</a>”</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p># Match when torch in a 1.9.0 compatible release <em>not</em> from PyPI is about to
# be included into resolver’s state with torchvision==0.9.0 <em>not</em> from PyPI.
match:</p>
<blockquote>
<div><dl>
<dt>package_version:</dt><dd><p>name: torch
version: “~=1.9.0”
index_url:</p>
<blockquote>
<div><p>not: “<a class="reference external" href="https://pypi.org/simple">https://pypi.org/simple</a>”</p>
</div></blockquote>
</dd>
<dt>state:</dt><dd><dl>
<dt>resolved_dependencies:</dt><dd><p>name: torchvision
version: “==0.9.0”
index_url:</p>
<blockquote>
<div><p>not: “<a class="reference external" href="https://pypi.org/simple">https://pypi.org/simple</a>”</p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</div>
</section>
<section id="step-run-log">
<h3>Step <code class="docutils literal notranslate"><span class="pre">run.log</span></code><a class="headerlink" href="#step-run-log" title="Permalink to this headline">¶</a></h3>
<p>Print the given message to logs if the pipeline unit is included and run.</p>
<p>See <a class="reference internal" href="#boot-run-log"><span class="std std-ref">boot’s log</span></a> that has shared semantics.</p>
</section>
<section id="step-run-stack-info">
<h3>Step <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code><a class="headerlink" href="#step-run-stack-info" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#boot-stack-info"><span class="std std-ref">stack info</span></a> which semantics is shared with this unit.</p>
<p>Note stack info is added only once even if the pipeline unit is
run multiple times during the resolution process.</p>
</section>
<section id="step-run-multi-package-resolution">
<h3>Step <code class="docutils literal notranslate"><span class="pre">run.multi_package_resolution</span></code><a class="headerlink" href="#step-run-multi-package-resolution" title="Permalink to this headline">¶</a></h3>
<p>Boolean stating whether the given unit should be run if criteria match multiple
times per resolution run. Defaults to false.</p>
</section>
<section id="step-run-justification">
<span id="id2"></span><h3>Step <code class="docutils literal notranslate"><span class="pre">run.justification</span></code><a class="headerlink" href="#step-run-justification" title="Permalink to this headline">¶</a></h3>
<p>Optional justification added to the resolved stack when the pipeline unit is
run. This justification is added only if no <code class="docutils literal notranslate"><span class="pre">not_acceptable</span></code> and no
<code class="docutils literal notranslate"><span class="pre">eager_stop_pipeline</span></code> are supplied - if the given step is a valid step in the
resolution process. See <a class="reference internal" href="justifications.html#justification"><span class="std std-ref">Adding justifications to the recommended software</span></a> for more info on how to write
justifications and their semantics.</p>
<p>Each entry in the list is specified by three attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> - any of <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> specifying severity of
the produced info</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code> - a message in free text form printed to users</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">link</span></code> - a link to a document describing more information in detail</p></li>
</ul>
<p>The link can be in a form of a valid HTTP or HTTPS URL or a string which
<a class="reference internal" href="justifications.html#jl"><span class="std std-ref">references justifications</span></a> available at
<a class="reference external" href="https://thoth-station.ninja/justifications">thoth-station.ninja/justifications</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">StepUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">step</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">times</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://thoth-station.ninja/simple&#39;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">score</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">+0.1</span>
  <span class="nt">justification</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Builds</span><span class="nv"> </span><span class="s">available</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">index</span><span class="nv"> </span><span class="s">thoth-station.ninja/simple</span><span class="nv"> </span><span class="s">take</span><span class="nv"> </span><span class="s">precedence&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://thoth-station.ninja/&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="step-run-score">
<h3>Step <code class="docutils literal notranslate"><span class="pre">run.score</span></code><a class="headerlink" href="#step-run-score" title="Permalink to this headline">¶</a></h3>
<p>Optional score addition to penalize or prioritize resolving the given stack.
Score has to be from interval -1.0 to +1.0 inclusively.</p>
<p>See <a class="reference internal" href="#step-run-justification"><span class="std std-ref">justification</span></a> for an example.</p>
</section>
<section id="step-run-not-acceptable">
<h3>Step <code class="docutils literal notranslate"><span class="pre">run.not_acceptable</span></code><a class="headerlink" href="#step-run-not-acceptable" title="Permalink to this headline">¶</a></h3>
<p>Make the given step not acceptable in the resolution process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<p>A pipeline unit that filters out any <code class="docutils literal notranslate"><span class="pre">tensorflow~=2.4.0</span></code> when
<code class="docutils literal notranslate"><span class="pre">numpy==1.19.1</span></code> is in already resolved dependencies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">StepUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">step</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">times</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">package_version</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">numpy</span>
    <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;==1.19.1&quot;</span>
    <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
  <span class="nt">state</span><span class="p">:</span>
    <span class="nt">resolved_dependencies</span><span class="p">:</span>
      <span class="c1"># Considering builds available also on other indexes than PyPI.</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;~=2.4.0&#39;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">multi_package_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">not_acceptable</span><span class="p">:</span> <span class="s">&quot;NumPy==1.19.5</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">causing</span><span class="nv"> </span><span class="s">issues</span><span class="nv"> </span><span class="s">when</span><span class="nv"> </span><span class="s">used</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">TensorFlow</span><span class="nv"> </span><span class="s">2.4&quot;</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;NumPy==1.19.5</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">causing</span><span class="nv"> </span><span class="s">issues</span><span class="nv"> </span><span class="s">when</span><span class="nv"> </span><span class="s">used</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">TensorFlow</span><span class="nv"> </span><span class="s">2.4&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://thoth-station.ninja/j/tf_24_np.html&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="step-run-eager-stop-pipeline">
<h3>Step <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code><a class="headerlink" href="#step-run-eager-stop-pipeline" title="Permalink to this headline">¶</a></h3>
<p>If the given pipeline unit is registered and matched, it will cause the whole
resolution to halt and report back any results computed.</p>
</section>
</section>
<section id="strides">
<h2>Strides<a class="headerlink" href="#strides" title="Permalink to this headline">¶</a></h2>
<p>Declaring <a class="reference internal" href="strides.html#strides"><span class="std std-ref">pipeline units of type stride</span></a>.</p>
<p>The following example shows all the configuration options that can be applied
for a stride pipeline unit type. See respective sections described below for more
info. Also note, the example shows all the options that can be supplied and is
not semantically valid (not all options can be supplied at the same time
semantically):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">StrideUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">stride</span>
<span class="nt">should_include</span><span class="p">:</span>                                   <span class="c1"># See should_include section.</span>
<span class="nt">match</span><span class="p">:</span>                                            <span class="c1"># Criteria to trigger run of this pipeline unit. Defaults to always running the boot pipeline unit if no package_version is provided.</span>
  <span class="nt">state</span><span class="p">:</span>                                          <span class="c1"># Optional, resolver internal state to match for the given stride.</span>
    <span class="nt">resolved_dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">werkzeug</span>                            <span class="c1"># Dependencies that have to be present in the resolved state.</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;~=1.0.0&quot;</span>                        <span class="c1"># Version specifier specifying version range.</span>
        <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>      <span class="c1"># Index URL used when consuming the release. Can be negated using &quot;not&quot;.</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>                                            <span class="c1"># Optional text printed to logs when the unit gets called.</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>                                     <span class="c1"># Information printed to the recommended stack report.</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">world&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>           <span class="c1"># A link to justifications or a link to a web page.</span>

  <span class="nt">not_acceptable</span><span class="p">:</span> <span class="s">&quot;Bad</span><span class="nv"> </span><span class="s">package</span><span class="nv"> </span><span class="s">inclusion&quot;</span>         <span class="c1"># Block resolving the given stack.</span>

  <span class="c1"># Configuration of prematurely terminating the resolution process.</span>
  <span class="nt">eager_stop_pipeline</span><span class="p">:</span> <span class="s">&quot;Stop</span><span class="nv"> </span><span class="s">pipeline&quot;</span>
</pre></div>
</div>
<section id="stride-match">
<h3>Stride <code class="docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#stride-match" title="Permalink to this headline">¶</a></h3>
<p>A state that needs to be met to trigger the given stride pipeline. The state
states resolved dependencies where each entry in the resolved dependency
listing is described as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - optional package name that has to be stated in the resolved
dependency listing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - optional package version in a form of version specifier that
has to be stated in the resolved dependency listing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - optional package index from which the given package is
consumed, can be negated using “not”</p></li>
</ul>
<p>To run the given stride, all the packages in the resolved dependency listing
need to be present in the resolved software stack.</p>
<p>It is possible to provide a listing of match criteria when the given stride pipeline
unit run logic can be applied for multiple matched criteria.</p>
</section>
<section id="stride-run-log">
<h3>Stride <code class="docutils literal notranslate"><span class="pre">run.log</span></code><a class="headerlink" href="#stride-run-log" title="Permalink to this headline">¶</a></h3>
<p>Print the given message to logs if the pipeline unit is included and run.</p>
<p>See <a class="reference internal" href="#boot-run-log"><span class="std std-ref">boot’s log</span></a> that has shared semantics.</p>
</section>
<section id="stride-run-stack-info">
<h3>Stride <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code><a class="headerlink" href="#stride-run-stack-info" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#boot-stack-info"><span class="std std-ref">stack info</span></a> which semantics is shared with this unit.</p>
<p>Note stack info is added only once even if the pipeline unit is
run multiple times during the resolution process.</p>
</section>
<section id="stride-run-not-acceptable">
<h3>Stride <code class="docutils literal notranslate"><span class="pre">run.not_acceptable</span></code><a class="headerlink" href="#stride-run-not-acceptable" title="Permalink to this headline">¶</a></h3>
<p>If the given pipeline unit is registered and matched, it will discard the
resolved stack matched from the resolver’s results reported.</p>
</section>
<section id="stride-run-eager-stop-pipeline">
<h3>Stride <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code><a class="headerlink" href="#stride-run-eager-stop-pipeline" title="Permalink to this headline">¶</a></h3>
<p>If the given pipeline unit is registered and matched, it will cause the whole
resolution to halt and report back any results computed.</p>
</section>
</section>
<section id="wraps">
<h2>Wraps<a class="headerlink" href="#wraps" title="Permalink to this headline">¶</a></h2>
<p>Declaring <a class="reference internal" href="wraps.html#wraps"><span class="std std-ref">pipeline units of type wrap</span></a>.</p>
<p>The following example shows all the configuration options that can be applied
for a wrap pipeline unit type. See respective sections described below for more
info. Also note, the example shows all the options that can be supplied and is
not semantically valid (not all options can be supplied at the same time
semantically):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WrapUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wrap</span>
<span class="nt">should_include</span><span class="p">:</span>                                   <span class="c1"># See should_include section.</span>
<span class="nt">match</span><span class="p">:</span>                                            <span class="c1"># Criteria to trigger run of this pipeline unit. Defaults to always running the boot pipeline unit if no package_version is provided.</span>
  <span class="nt">state</span><span class="p">:</span>                                          <span class="c1"># Optional, resolver internal state to match for the given stride.</span>
    <span class="nt">resolved_dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">werkzeug</span>                            <span class="c1"># Dependencies that have to be present in the resolved state.</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;&gt;=1.0.0,&lt;2.5.0&quot;</span>                 <span class="c1"># Version specifier for matching version ranges.</span>
        <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>      <span class="c1"># Index URL used for consuming the package. Can be negated using &quot;not&quot;.</span>

<span class="nt">run</span><span class="p">:</span>
  <span class="nt">log</span><span class="p">:</span>                                            <span class="c1"># Optional text printed to logs when the unit gets called.</span>
    <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Some</span><span class="nv"> </span><span class="s">text</span><span class="nv"> </span><span class="s">printed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">log</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">pipeline</span><span class="nv"> </span><span class="s">unit</span><span class="nv"> </span><span class="s">run.&quot;</span>
    <span class="nt">type</span><span class="p">:</span> <span class="s">&quot;WARNING&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>                                     <span class="c1"># Information printed to the recommended stack report.</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">world&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>           <span class="c1"># A link to justifications or a link to a web page.</span>

  <span class="nt">justification</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;Hello,</span><span class="nv"> </span><span class="s">Thoth!&quot;</span>
      <span class="nt">link</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://thoth-station.ninja</span>

  <span class="nt">advised_manifest_changes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">apiVersion</span><span class="p">:</span> <span class="s">&quot;apps.openshift.io/v1&quot;</span>
      <span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DeploymentConfig</span>
      <span class="nt">patch</span><span class="p">:</span>
        <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">add</span>
        <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;/spec/template/spec/containers/0/env/0&quot;</span>
        <span class="nt">value</span><span class="p">:</span>
          <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;WORKDIR&quot;</span>
          <span class="nt">value</span><span class="p">:</span> <span class="s">&quot;/home/workdir&quot;</span>
</pre></div>
</div>
<section id="wrap-match">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">match</span></code><a class="headerlink" href="#wrap-match" title="Permalink to this headline">¶</a></h3>
<p>A state that needs to be met to trigger the given wrap pipeline unit. The state
states resolved dependencies where each entry in the resolved dependency
listing is described as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - optional package name that has to be stated in the resolved
dependency listing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> - optional package version in a form of version specifier that
has to be stated in the resolved dependency listing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_url</span></code> - optional package index from which the given package is
consumed, can be negated using “not”</p></li>
</ul>
<p>To run the given wrap pipeline unit, all the packages in the resolved
dependency listing need to be present in the resolved software stack.</p>
<p>It is possible to provide a listing of match criteria when the given wrap
pipeline unit run logic can be applied for multiple matched criteria.</p>
</section>
<section id="wrap-run-log">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">run.log</span></code><a class="headerlink" href="#wrap-run-log" title="Permalink to this headline">¶</a></h3>
<p>Print the given message to logs if the pipeline unit is included and run.</p>
<p>See <a class="reference internal" href="#boot-run-log"><span class="std std-ref">boot’s log</span></a> that has shared semantics.</p>
</section>
<section id="wrap-run-stack-info">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code><a class="headerlink" href="#wrap-run-stack-info" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#boot-stack-info"><span class="std std-ref">stack info</span></a> which semantics is shared with this unit.</p>
<p>Note stack info is added only once even if the pipeline unit is
run multiple times during the resolution process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WrapUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wrap</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">recommendation_types</span><span class="p">:</span>
    <span class="c1"># Only warn here, in case of performance the corresponding resolution step can be penalized.</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">latest</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">testing</span>
  <span class="nt">library_usage</span><span class="p">:</span>
    <span class="nt">tensorflow</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow.keras.layers.Embedding</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="c1"># Matching multiple criteria.</span>
  <span class="p p-Indicator">-</span> <span class="nt">state</span><span class="p">:</span>
      <span class="nt">resolved_dependencies</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
          <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;&lt;=2.4.0&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">state</span><span class="p">:</span>
      <span class="nt">resolved_dependencies</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow-cpu</span>
          <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;&lt;=2.4.0&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">state</span><span class="p">:</span>
      <span class="nt">resolved_dependencies</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow-gpu</span>
          <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;&lt;=2.4.0&quot;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WARNING</span>
      <span class="nt">message</span><span class="p">:</span> <span class="s">&quot;TensorFlow</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">version</span><span class="nv"> </span><span class="s">&lt;=2.4</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">slow</span><span class="nv"> </span><span class="s">when</span><span class="nv"> </span><span class="s">tf.keras.layers.Embedding</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">used&quot;</span>
      <span class="c1"># Can be replaced with just &quot;tf_42475&quot;.</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://thoth-station.ninja/j/tf_42475.html&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="wrap-run-not-acceptable">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">run.not_acceptable</span></code><a class="headerlink" href="#wrap-run-not-acceptable" title="Permalink to this headline">¶</a></h3>
<p>If the given pipeline unit is registered and matched, it will discard the
resolved stack matched from the resolver’s results reported.</p>
</section>
<section id="wrap-run-eager-stop-pipeline">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code><a class="headerlink" href="#wrap-run-eager-stop-pipeline" title="Permalink to this headline">¶</a></h3>
<p>If the given pipeline unit is registered and matched, it will cause the whole
resolution to halt and report back any results computed.</p>
</section>
<section id="wrap-run-justification">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">run.justification</span></code><a class="headerlink" href="#wrap-run-justification" title="Permalink to this headline">¶</a></h3>
<p>Justification added if the given wrap is matched and run. This justification is
similar to the one <a class="reference internal" href="#step-run-justification"><span class="std std-ref">as provided by step</span></a>. It is
added to the resolved stack if the match criteria are met. The unit cannot
provide <code class="docutils literal notranslate"><span class="pre">eager_stop_pipeline</span></code> or <code class="docutils literal notranslate"><span class="pre">not_acceptable</span></code> to have justification
available.</p>
</section>
<section id="wrap-run-advised-manifest-changes">
<h3>Wrap <code class="docutils literal notranslate"><span class="pre">run.advised_manifest_changes</span></code><a class="headerlink" href="#wrap-run-advised-manifest-changes" title="Permalink to this headline">¶</a></h3>
<p>Suggested changes to the manifest files used for deployment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<p>A pipeline unit that adjusts environment variables if <code class="docutils literal notranslate"><span class="pre">intel-tensorflow</span></code> is resolved.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">WrapUnit</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wrap</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="nt">state</span><span class="p">:</span>
    <span class="nt">resolved_dependencies</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">intel-tensorflow</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">advised_manifest_changes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">apiVersion</span><span class="p">:</span> <span class="s">&quot;apps.openshift.io/v1&quot;</span>
      <span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DeploymentConfig</span>
      <span class="nt">patch</span><span class="p">:</span>
        <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">add</span>
        <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;/spec/template/spec/containers/0/env/0&quot;</span>
        <span class="nt">value</span><span class="p">:</span>
          <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;OMP_NUM_THREADS&quot;</span>
          <span class="l l-Scalar l-Scalar-Plain">value&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;1&quot;</span>

  <span class="nt">stack_info</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INFO</span>
      <span class="nt">message</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Adjst OMP_NUM_THREADS environment variable to make sure application behaves correctly in containerized environments</span>
      <span class="nt">link</span><span class="p">:</span> <span class="s">&quot;https://www.openmp.org/spec-html/5.0/openmpse50.html&quot;</span>
</pre></div>
</div>
</div>
<p>See <a class="reference internal" href="manifest_changes.html#manifest-changes"><span class="std std-ref">Advised manifest changes</span></a> section for more info and semantics.</p>
</section>
</section>
<section id="githubreleasenoteswrap">
<h2>GitHubReleaseNotesWrap<a class="headerlink" href="#githubreleasenoteswrap" title="Permalink to this headline">¶</a></h2>
<p><strong>DEPRECATED</strong></p>
<section id="githubreleasenoteswrap-run-release-notes">
<h3>GitHubReleaseNotesWrap <code class="docutils literal notranslate"><span class="pre">run.release_notes</span></code><a class="headerlink" href="#githubreleasenoteswrap-run-release-notes" title="Permalink to this headline">¶</a></h3>
<p>A list of entries describing release for which resolved a link
to GitHub release should be constructed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GHReleaseNotesWrap</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wrap.GHReleaseNotes</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">release_notes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">organization</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pallets</span>
      <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>
      <span class="nt">package_version</span><span class="p">:</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>
        <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
    <span class="p p-Indicator">-</span> <span class="nt">organization</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
      <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
      <span class="c1"># Tags are prefixed with &#39;v&#39;.</span>
      <span class="nt">tag_version_prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v</span>
      <span class="nt">package_version</span><span class="p">:</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tensorflow</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;&gt;=1.0.0&#39;</span>
        <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
</pre></div>
</div>
<p>The example above will link to GitHub release info if listed packages are
in the resolved stack. Restrictions on <code class="docutils literal notranslate"><span class="pre">version</span></code> and <code class="docutils literal notranslate"><span class="pre">index_url</span></code> are
optional. If not provided, any values are accepted. Examples for <a class="reference external" href="https://github.com/pallets/flask/releases/tag/1.1.0">flask in
version 1.1.0</a> and
<a class="reference external" href="https://github.com/tensorflow/tensorflow/releases/tag/v2.3.2">tensorflow in version 2.3.2</a>.</p>
</div>
</section>
</section>
<section id="ghreleasenoteswrap">
<h2>GHReleaseNotesWrap<a class="headerlink" href="#ghreleasenoteswrap" title="Permalink to this headline">¶</a></h2>
<p>A specific type of wrap pipeline unit that adds links to GitHub release page.
See <a class="reference external" href="https://www.youtube.com/watch?v=oK1qYdhmquY">the linked demo for more info</a>.</p>
<p>A list of entries describing release for which resolved a link
to GitHub release should be constructed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Example:</em></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GitHubReleaseNotesWrap</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wrap.GitHubReleaseNotes</span>
<span class="nt">should_include</span><span class="p">:</span>
  <span class="nt">adviser_pipeline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">match</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">state</span><span class="p">:</span>
      <span class="nt">resolved_dependencies</span><span class="p">:</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>
  <span class="p p-Indicator">-</span> <span class="nt">state</span><span class="p">:</span>
      <span class="nt">resolved_dependencies</span><span class="p">:</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask-fork</span>
        <span class="nt">version</span><span class="p">:</span> <span class="s">&quot;~=1.1.0&quot;</span>
        <span class="nt">develop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="nt">index_url</span><span class="p">:</span> <span class="s">&#39;https://pypi.org/simple&#39;</span>
<span class="nt">run</span><span class="p">:</span>
  <span class="nt">release_notes</span><span class="p">:</span>
    <span class="nt">organization</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pallets</span>
    <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">flask</span>
    <span class="nt">tag_version_prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v</span>
</pre></div>
</div>
<p>The example above will link to GitHub release info if listed packages are
in the resolved stack. Restrictions on <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">develop</span></code> and <code class="docutils literal notranslate"><span class="pre">index_url</span></code>
are optional. If not provided, any values are accepted. An example link for
<a class="reference external" href="https://github.com/pallets/flask/releases/tag/1.1.0">flask in version 1.1.0</a>.</p>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Declarative prescriptions for resolver</a><ul>
<li><a class="reference internal" href="#prescriptions-structure">Prescriptions structure</a></li>
<li><a class="reference internal" href="#unit-schema">Unit schema</a><ul>
<li><a class="reference internal" href="#name"><code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li><a class="reference internal" href="#type"><code class="docutils literal notranslate"><span class="pre">type</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#including-a-unit-should-include">Including a unit - <code class="docutils literal notranslate"><span class="pre">should_include</span></code></a><ul>
<li><a class="reference internal" href="#should-include-times"><code class="docutils literal notranslate"><span class="pre">should_include.times</span></code></a></li>
<li><a class="reference internal" href="#should-include-adviser-pipeline"><code class="docutils literal notranslate"><span class="pre">should_include.adviser_pipeline</span></code></a></li>
<li><a class="reference internal" href="#should-include-recommendation-types"><code class="docutils literal notranslate"><span class="pre">should_include.recommendation_types</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependency-monkey-pipeline"><code class="docutils literal notranslate"><span class="pre">should_include.dependency_monkey_pipeline</span></code></a></li>
<li><a class="reference internal" href="#should-include-decision-types"><code class="docutils literal notranslate"><span class="pre">should_include.decision_types</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#should-include-library-usage"><code class="docutils literal notranslate"><span class="pre">should_include.library_usage</span></code></a><ul>
<li><a class="reference internal" href="#should-include-dependencies"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependencies-boots"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.boots</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependencies-pseudonyms"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.pseudonyms</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependencies-sieves"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.sieves</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependencies-steps"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.steps</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependencies-strides"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.strides</span></code></a></li>
<li><a class="reference internal" href="#should-include-dependencies-wraps"><code class="docutils literal notranslate"><span class="pre">should_include.dependencies.wraps</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#labels-should-include-labels">Labels - <code class="docutils literal notranslate"><span class="pre">should_include.labels</span></code></a></li>
<li><a class="reference internal" href="#runtime-environments-should-include-runtime-environments">Runtime environments - <code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments</span></code></a><ul>
<li><a class="reference internal" href="#should-include-runtime-environments-operating-systems"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.operating_systems</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-hardware"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.hardware</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-python-versions"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.python_versions</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-cuda-versions"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.cuda_versions</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-platforms"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.platforms</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-openblas-versions"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.openblas_versions</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-openmpi-versions"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.openmpi_versions</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-cudnn-versions"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.cudnn_versions</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-mkl-versions"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.mkl_versions</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-base-images"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.base_images</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-abi"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.abi</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-rpm-packages"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.rpm_packages</span></code></a></li>
<li><a class="reference internal" href="#should-include-runtime-environments-python-packages"><code class="docutils literal notranslate"><span class="pre">should_include.runtime_environments.python_packages</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#boots">Boots</a><ul>
<li><a class="reference internal" href="#boot-match">Boot <code class="docutils literal notranslate"><span class="pre">match</span></code></a></li>
<li><a class="reference internal" href="#boot-run-stack-info">Boot <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code></a></li>
<li><a class="reference internal" href="#boot-run-eager-stop-pipeline">Boot <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code></a></li>
<li><a class="reference internal" href="#boot-run-log">Boot <code class="docutils literal notranslate"><span class="pre">run.log</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pseudonyms">Pseudonyms</a><ul>
<li><a class="reference internal" href="#pseudonym-run-log">Pseudonym <code class="docutils literal notranslate"><span class="pre">run.log</span></code></a></li>
<li><a class="reference internal" href="#pseudonym-run-stack-info">Pseudonym <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code></a></li>
<li><a class="reference internal" href="#pseudonym-match">Pseudonym <code class="docutils literal notranslate"><span class="pre">match</span></code></a></li>
<li><a class="reference internal" href="#pseudonym-run-yield">Pseudonym <code class="docutils literal notranslate"><span class="pre">run.yield</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sieves">Sieves</a><ul>
<li><a class="reference internal" href="#sieve-match">Sieve <code class="docutils literal notranslate"><span class="pre">match</span></code></a></li>
<li><a class="reference internal" href="#sieve-run-log">Sieve <code class="docutils literal notranslate"><span class="pre">run.log</span></code></a></li>
<li><a class="reference internal" href="#sieve-run-stack-info">Sieve <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#skippackagesieve">SkipPackageSieve</a></li>
<li><a class="reference internal" href="#steps">Steps</a><ul>
<li><a class="reference internal" href="#step-match">Step <code class="docutils literal notranslate"><span class="pre">match</span></code></a></li>
<li><a class="reference internal" href="#step-run-log">Step <code class="docutils literal notranslate"><span class="pre">run.log</span></code></a></li>
<li><a class="reference internal" href="#step-run-stack-info">Step <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code></a></li>
<li><a class="reference internal" href="#step-run-multi-package-resolution">Step <code class="docutils literal notranslate"><span class="pre">run.multi_package_resolution</span></code></a></li>
<li><a class="reference internal" href="#step-run-justification">Step <code class="docutils literal notranslate"><span class="pre">run.justification</span></code></a></li>
<li><a class="reference internal" href="#step-run-score">Step <code class="docutils literal notranslate"><span class="pre">run.score</span></code></a></li>
<li><a class="reference internal" href="#step-run-not-acceptable">Step <code class="docutils literal notranslate"><span class="pre">run.not_acceptable</span></code></a></li>
<li><a class="reference internal" href="#step-run-eager-stop-pipeline">Step <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#strides">Strides</a><ul>
<li><a class="reference internal" href="#stride-match">Stride <code class="docutils literal notranslate"><span class="pre">match</span></code></a></li>
<li><a class="reference internal" href="#stride-run-log">Stride <code class="docutils literal notranslate"><span class="pre">run.log</span></code></a></li>
<li><a class="reference internal" href="#stride-run-stack-info">Stride <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code></a></li>
<li><a class="reference internal" href="#stride-run-not-acceptable">Stride <code class="docutils literal notranslate"><span class="pre">run.not_acceptable</span></code></a></li>
<li><a class="reference internal" href="#stride-run-eager-stop-pipeline">Stride <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#wraps">Wraps</a><ul>
<li><a class="reference internal" href="#wrap-match">Wrap <code class="docutils literal notranslate"><span class="pre">match</span></code></a></li>
<li><a class="reference internal" href="#wrap-run-log">Wrap <code class="docutils literal notranslate"><span class="pre">run.log</span></code></a></li>
<li><a class="reference internal" href="#wrap-run-stack-info">Wrap <code class="docutils literal notranslate"><span class="pre">run.stack_info</span></code></a></li>
<li><a class="reference internal" href="#wrap-run-not-acceptable">Wrap <code class="docutils literal notranslate"><span class="pre">run.not_acceptable</span></code></a></li>
<li><a class="reference internal" href="#wrap-run-eager-stop-pipeline">Wrap <code class="docutils literal notranslate"><span class="pre">run.eager_stop_pipeline</span></code></a></li>
<li><a class="reference internal" href="#wrap-run-justification">Wrap <code class="docutils literal notranslate"><span class="pre">run.justification</span></code></a></li>
<li><a class="reference internal" href="#wrap-run-advised-manifest-changes">Wrap <code class="docutils literal notranslate"><span class="pre">run.advised_manifest_changes</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#githubreleasenoteswrap">GitHubReleaseNotesWrap</a><ul>
<li><a class="reference internal" href="#githubreleasenoteswrap-run-release-notes">GitHubReleaseNotesWrap <code class="docutils literal notranslate"><span class="pre">run.release_notes</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ghreleasenoteswrap">GHReleaseNotesWrap</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation index</a><ul>
      <li>Previous: <a href="wraps.html" title="previous chapter">Wrap pipeline unit type</a></li>
      <li>Next: <a href="predictors/sampling.html" title="next chapter">Random state space sampling</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="sources/prescription.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

  
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>

  </body>
</html>